!function(t){function c(n){if(l[n])return l[n].exports;var d=l[n]={exports:{},id:n,loaded:!1};return t[n].call(d.exports,d,d.exports,c),d.loaded=!0,d.exports}var l={};c.m=t,c.c=l,c.p="",c(0)}([function(t,c,l){t.exports=l(1)},function(module,exports){eval('/*** IMPORTS FROM imports-loader ***/\nvar define = false;\n\n$(window).load(function(){\n\tfunction Page() {\n\t\tthis_ = this;\n\t\tthis.langList = $(".lang_list");\n\t\tthis.lang = $(".lang_list li");\n\t\tthis.langTxt = $(".lang_txt");\n\t\tthis.selectLang = $(".select_lang");\n\t\tthis.smallRole = $(\'.small_role\');\n        this.bigRole = $(".big_role_pic");\n        this.bigRoleVoice = $(".big_role_voice");\n        this.roleBottom = $(".role_bottom");\n        this.smallIntro = $(".small_intro");\n        this.bigIntro = $(".big_intro");\n        this.close = $(".close");\n        this.iscrollImg = $(".iscroll li");\n        this.scrollBtn = $(".scroll_btn");\n        this.alertBox = $(".alert_box");\n        this.pageMask =$(".page_mask");\n        this.alertImgs = $(".content li");\n        this.contentBtnR =$(".content_btn_r");\n        this.contentBtnL =$(".content_btn_l");\n        this.code = $(".code");\n        this.bigCode = $(".erweima");\n        this.video = $(".video");\n        this.scrollLeftBtn = $(".scroll_btn_l");\n        this.scrollRightBtn = $(".scroll_btn_r");\n        this.smallRoleNum = 0;\n        this.contentIndex = 0;\n        this.initialScrollIndex = 0;\n        this.viewDetail = $(".view_detail");\n        this.closeDetail = $(".close_detail_btn");\n        this.closeVideo = $(".close_video");\n        this.toTopBtn = $(".to_top");\n        this.selectLang = $(".select_lang");\n        this.lang = $(".lang");\n\t};\n\t$.extend(Page.prototype, {\n\t\tinit: function() {\n\t\t\t//alert("haha,请指正我的bug")\n\t\t\tthis.ajax();\n\t\t\t//this.handleClickTriangle();\n\t\t\t//this.handleChooseLang();\n\t\t\t// this.initIscroll();\n\t\t\tthis.clickSmallRole(); \n\t\t\t//this.hoverSmallRole();\n\t\t\tthis.clickIntro();\n\t\t\tthis.clickViewDetail();\n\t\t\tthis.clickClose();\n\t\t\tthis.clickDetailClose();\n\t\t\t//this.clickScrollBtn();\n\t\t\tthis.clickIscrollImg();\n\t\t\tthis.clickAudioBtn();\n\t\t\tthis.clickContentBtnL();\n\t\t\tthis.clickContentBtnR();\n\t\t\tthis.clickDetailPreBtn();\n\t\t\tthis.clickDetailNextBtn();\n\t\t\t//this.handleHoverCode();\n\t\t\tthis.clickVideoBtn();\n\t\t\tthis.toTop();\n\t\t\tthis.clickSelectLang();\n\t\t\tthis.clickLang();\n\n\t\t},\n\t\tajax: function() {\n\t\t\t$.ajax({ \n\t\t\t    type : "GET", //提交方式 \n\t\t\t    url : "/mock/index.json",//路径 \n\t\t\t    success : function(result) {//返回数据根据结果进行相应的处理 \n\t\t\t    \tconsole.log(result)\n\t\t\t\t    if( result.status === "success" ) { \n\t\t\t\t       console.log("成功");\n\t\t\t\t       this_.handleData(result.data);\n\t\t\t\t    } else { \n\t\t\t\t       console.log("失败")\n\t\t\t\t    } \n\t\t\t    } \n\t\t    }); \n\t\t},\n\t\thandleData:function(data) {\n\t\t\tthis_.ios_url = data.ios_url;\n\t\t\tthis_.android_url = data.android_url;\n\t\t\tthis_.customer_url = data.customer_url;\n\t\t\tthis_.facebook_url = data.facebook_url;\n\t\t\tthis_.game_code = data.game_code;\n\t\t\tthis_.pay_url = data.pay_url;\n\t\t\tthis_.lang_code = data.lang_code;\n\t\t\tconsole.log(this_.facebook_url);\n\n\t\t\t$(".top_icon1").attr("href",this_.facebook_url);\n\t\t\t$(".top_icon2").attr("href",this_.ios_url);\n\t\t},\t\n\t\ttoTop: function(){\n\t\t\tthis_.toTopBtn.click(function(){\n\t\t\t\t$(\'html , body\').animate({scrollTop: 0},\'slow\');\n\t\t\t})\n\t\t},\t\n\t\tclickSelectLang: function() {\n\t\t\tthis_.selectLang.click(function(){\n\t\t\t\t$(".fix_box_clloapse").hide();\n\t\t\t\t$(".fix_box_expand").show();\n\t\t\t})\n\t\t},\n\t\tclickLang: function() {\n\t\t\tthis_.lang.click(function() {\n\t\t\t\tvar txt;\n\t\t\t\tif($(this).text() == "CHINESE"){\n\t\t\t\t\ttxt = "CH"\n\t\t\t\t}\n\t\t\t\tif($(this).text() == "ENGLISH"){\n\t\t\t\t\ttxt = "EN"\n\t\t\t\t}\n\t\t\t\t$(".ch_lang").text(txt)\n\t\t\t\t$(".fix_box_clloapse").show();\n\t\t\t\t$(".fix_box_expand").hide();\n\t\t\t})\n\t\t},\n\t\thandleClickTriangle: function() {\n\t\t\tthis_.triangle.click(function(){\n\t\t\t\tconsole.log(this_.selectLang.attr("class"))\n\t\t\t\tif(this_.selectLang.attr("class")==="select_lang lang_zhankai"){\n\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t \tthis_.selectLang.toggleClass(\'lang_zhankai\');\n\t\t\t\t\t    this_.selectLang.toggleClass(\'lang_shou\');\n\t\t\t\t\t},200)\n\t\t\t\t}else{\n\t\t\t\t \tthis_.selectLang.toggleClass(\'lang_zhankai\');\n\t\t\t\t    this_.selectLang.toggleClass(\'lang_shou\');\n\t\t\t\t}\n\t\t\t\tthis_.langList.slideToggle("fast");\n\t\t\t    $(this).toggleClass("triangle_up");\n\n\t\t\t})\n\t\t},\n\n\t\thandleChooseLang: function() {\n\t\t\tthis_.lang.click(function() {\n\t\t\t\tthis_.langTxt.text($(this).text())\n\t\t\t\tthis_.triangle.trigger("click");\n\t\t\t})\n\t\t},\n\t\tiScrollClick: function() {\n\t\t\tif (/iPhone|iPad|iPod|Macintosh/i.test(navigator.userAgent)) return false;\n\t\t\tif (/Chrome/i.test(navigator.userAgent)) return (/Android/i.test(navigator.userAgent));\n\t\t\tif (/Silk/i.test(navigator.userAgent)) return false;\n\t\t\tif (/Android/i.test(navigator.userAgent)) {\n\t\t\t   var s=navigator.userAgent.substr(navigator.userAgent.indexOf(\'Android\')+8,3);\n\t\t\t   return parseFloat(s[0]+s[3]) < 44 ? false : true\n\t\t    }\n\t\t},\n\t\tinitIscroll: function() {\n\t\t\t//alert(this_.iScrollClick())\n\t\t\tvar ele = $(".iscroll");\n\t\t    ele.width((ele.find("li").length-1) * (ele.find("li").width()));\n\t\t    var myScroll = new IScroll(\'#wrapper\', {\n\t\t    \tscrollX: true, \n\t\t    \tscrollY: false, \n\t\t    \tclick: this_.iScrollClick(),\n\t\t    \tfadeScrollbars: true\n\t\t    });\n\t\t    myScroll.scrollToElement(\'.iscroll_active\',true,true);\n\n\t\t},\n\t\tclickSmallRole: function() {\n\t\t\tthis_.smallRole.click(function(){\n\t\t\t\tthis_.smallRoleNum = $(this).index();\n\t\t\t    $(".role_title").removeClass("role_title_active").eq(this_.smallRoleNum).addClass("role_title_active");\n\t\t\t\tthis_.smallRole.removeClass(\'cur\').eq(this_.smallRoleNum).addClass(\'cur\');\n\n\t\t\t\tthis_.bigRole.removeClass(\'big_role_pic_active animated bounceInLeft\').eq(this_.smallRoleNum).addClass(\'big_role_pic_active animated bounceInLeft\');\n\t\t\t\tthis_.bigRoleVoice.removeClass(\'big_role_voice_active animated bounceInRight\');\n\t\t\t    \n\t\t\t    \tthis_.bigRoleVoice.eq(this_.smallRoleNum).addClass(\'big_role_voice_active animated bounceInRight\');\n\t\t\t  \n                // this_.smallRoleNum = $(this).index();\n                // $(".role_title").removeClass("role_title_active").eq(this_.smallRoleNum).addClass("role_title_active");\n\n                // this_.smallRole.removeClass(\'cur\').eq(this_.smallRoleNum).addClass(\'cur\');      \n                \n                // this_.bigRole.addClass(\'animated fadeOut\').removeClass(\'big_role_pic_active animated bounceInLeft\').eq(this_.smallRoleNum).removeClass(\'animated fadeOut\').addClass(\'big_role_pic_active animated bounceInLeft\');\n    \n\n           \n                \n                // //this_.bigRoleVoice.not(this_.bigRoleVoice.eq(this_.smallRoleNum)).removeClass("big_role_pic_active animated bounceInRight");\n                // this_.bigRoleVoice.removeClass(\'big_role_voice_active animated bounceInRight\');\n                // this_.bigRoleVoice.eq(this_.smallRoleNum).addClass(\'big_role_pic_active animated bounceInRight\');\n\t\t\t})\n\t\t},\n\t\t\n\t\thoverSmallRole: function() {\n\t\t\tthis_.smallRole.mouseenter(function() {\n\t\t\t\t$(this).addClass(\'on\');\n\t\t\t})\n\t\t\tthis_.smallRole.mouseleave(function() {\n\t\t\t\t$(this).removeClass(\'on\');\n\t\t\t})\n\t\t},\n\t\tclickViewDetail: function() {\n\t\t\tthis_.viewDetail.click(function(){\n\t\t\t\tconsole.log(this_.smallRoleNum)\n\t\t\t\t$(".detail").removeClass(\'detail_active\').eq(this_.smallRoleNum).addClass(\'detail_active\');\n\t\t\t    // $("html,body").css({\'height\':"100%","overflow":"hidden"});\n\t\t\t\tthis_.pageMask.show();\n\t\t\t\t$(".detail_list").show();\n\t\t\t\t$(".content_box").hide();\n\t\t\t\t$(".fix_box").hide();\n\t\t\t})\n\t\t},\n\t\tclickDetailPreBtn: function() {\n\t\t\t$(".pre_btn").click(function() {\n\t\t\t\tif(this_.smallRoleNum > 0){\n\t\t\t\t\tthis_.smallRoleNum --;\n\t\t\t\t}else{\n\t\t\t\t\tthis_.smallRoleNum = $(".detail").size()-1;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t$(".detail").removeClass(\'detail_active\').eq(this_.smallRoleNum).addClass(\'detail_active\');\n\t\t\t\tthis_.pageMask.show();\n\t\t\t})\n\t\t},\n\t\tclickDetailNextBtn: function(){\n\t\t\t$(".next_btn").click(function() {\n\t\t\t\tif(this_.smallRoleNum < $(".detail").size()-1){\n\t\t\t\t\tthis_.smallRoleNum ++;\n\t\t\t\t}else{\n\t\t\t\t\tthis_.smallRoleNum = 0;\n\t\t\t\t}\n\t\t\t\t$(".detail").removeClass(\'detail_active\').eq(this_.smallRoleNum).addClass(\'detail_active\');\n\t\t\t\tthis_.pageMask.show();\n\t\t\t})\n\t\t},\n\t\tclickDetailClose: function(){\n\t\t\tthis.closeDetail.click(function(){\n\t\t\t    // $("html,body").css({\'height\':"16.64rem","overflow":"auto"});\n\t\t\t\tthis_.pageMask.hide();\n\t\t\t\t$(".video_box").hide();\n\t\t\t\t$(".detail_list").hide();\n\t\t\t\t$(".content_box").hide();\n\t\t\t\t$(".fix_box").show();\n\t\t\t});\n\n\t\t\tthis.closeDetail.on("touchstart",function(){\n\t\t\t\t$(this).addClass("close_detail_btn_hover");\n\t\t\t});\n\t\t\tthis.closeDetail.on("touchend",function(){\n\t\t\t\t$(this).removeClass("close_detail_btn_hover");\n\t\t\t})\n\t\t},\n\t\tclickIntro:function() {\n\t\t\tthis_.smallIntro.click(function() {\n\t\t\t\tvar smallIntroNum = $(this).index();\n\t\t\t    this_.bigIntro.not(smallIntroNum).removeClass(\'intro_active animated fadeIn\');\n\t\t\t    this_.bigIntro.eq(smallIntroNum).addClass(\'intro_active animated fadeIn\');\n\t\t\t\tthis_.smallIntro.removeClass("small_intro_hover").find(smallIntroNum).addClass(\'small_intro_hover\');\n\t\t\t\t$(this).addClass(\'small_intro_hover\');\n\t\t\t});\n\t\t\t\n\t\t\t// this_.smallIntro.on(\'touchstart\',function(e) {\n\t\t //       $(this).addClass(\'small_intro_hover\');\n\t\t\t// });\n\t\t\t// this_.smallIntro.on(\'touchend\',function(e) {\n\t\t //       $(this).removeClass("small_intro_hover");\n\t\t\t// });\n\t\t},\n\t\tclickIscrollImg:function() {\n\t\t\tthis.iscrollImg.click(function(){\n\t\t\t\tthis_.contentIndex = $(this).attr("id")-1;\n\t\t\t\tthis_.showBigScrollImg();\n\t\t\t\t//alert(this_.contentIndex)\n\n\t\t\t})\n\t\t},\n\t\tshowBigScrollImg: function(){\n\t\t\tthis_.pageMask.show();\n\t\t\t$(".video_box").hide();\n\t\t\t$(".detail_list").hide();\n\t\t\t$(".content_box").show();\n\t\t\tthis_.alertImgs.removeClass(\'active_content\').eq(this_.contentIndex).addClass(\'active_content\');\n\t\t\t$(".fix_box").hide();\n\t\t},\n\t\tclickContentBtnL:function(){\n\n\t\t\t$(".content_btn_l").click(function(){\n\t\t\t\tthis_.contImgLen = $(".content li").size()-1;\n\t\t\t\tif(this_.contentIndex < 0){\n\t\t\t\t\tthis_.contentIndex = this_.contImgLen;\n\t\t\t\t}else{\n\t\t\t\t\tthis_.contentIndex--;\n\t\t\t\t}\n\t\t\t\tthis_.showBigScrollImg();\n\t\t\t})\n\t\t},\n\t\tclickContentBtnR:function(){\n\t\t\tthis.contentBtnR.click(function(){\n\t\t\t\tthis_.contImgLen = $(".content li").size();\n\t\t\t\tif(this_.contentIndex >= this_.contImgLen-1){\n\t\t\t\t\tthis_.contentIndex = 0;\n\t\t\t\t}else{\n\t\t\t\t\tthis_.contentIndex++;\n\t\t\t\t}\n\t\t\t\tthis_.showBigScrollImg();\t\n\t\t\t})\n\t\t},\n\t\tclickClose:function() {\n\t\t\tthis.close.click(function(){\n \t\t\t\tthis_.pageMask.hide();\n \t\t\t\t$(".fix_box").show();\n\t\t\t\t// this_.alertBox.hide();\n\t\t\t\t//this_.scrollBtn.show(); \n\t\t\t});\n\t\t\tthis.close.on("touchstart",function(){\n\t\t\t\t$(this).addClass("close_hover");\n\t\t\t});\n\t\t\tthis.close.on("touchend",function(){\n\t\t\t\t$(this).removeClass("close_hover");\n\t\t\t})\n\t\t\t\n\t\t},\n\n\t\tclickAudioBtn:function(){\n\t\t\t$(\'.btn-audio\').click(function(){\n\t\t\t\tvar nowId = "mp3Btn" + (this_.smallRoleNum +1);\n\t\t\t\tvar url = "../images/cv_0" + nowId + ".png";\n\t\t\t    console.log(nowId)\n\t\t\t    //播放完毕\n\t            $("#"+ nowId).on(\'ended\', function() {\n\t                console.log("音频已播放完成");\n\t                $(\'.btn-audio\').css({\n\t                \t\'background\':url,\n\t                \t\'background-size\':\'contain\'});\n\t            })\n\t            //播放器控制\n\t            var audio = document.getElementById(nowId);\n\t            audio.volume = .3;\n\t            event.stopPropagation();//防止冒泡\n\t                if(audio.paused){ //如果当前是暂停状态\n\t                    $(\'.btn-audio\').css({\n\t                    \t\'background\':url,\n\t                    \t\'background-size\':\'contain\'\n\t                    });\n\t                    audio.play(); //播放\n\t                    return;\n\t                }else{//当前是播放状态\n\t                    $(\'.btn-audio\').css({\n\t                    \t\'background\':url,\n\t                    \t\'background-size\':\'contain\'\n\t                    });\n\t                    audio.pause(); //暂停\n\t                }\n\t\t\t});\n\t\t},\n\t\t\n\t\thandleHoverCode:function(){\n\t\t\tthis.code.mouseenter(function(){\n\t\t\t\tthis_.bigCode.show();\n\t\t\t});\n\t\t\tthis.code.mouseleave(function(){\n\t\t\t\tthis_.bigCode.hide();\n\t\t\t});\n\t\t},\n\t\tclickVideoBtn:function(){\n\t\t\tthis.video.click(function(){\n\t\t\t\tvar width = $(".video_cont").width();\n\t\t\t\tvar height = $(".video_cont").height();\n\t\t\t\t$("iframe").css({"width":width,"height":height});\n\t\t\t\tthis_.pageMask.show();\n\t\t\t\t$(".detail_list").hide();\n\t\t\t\t$(".content_box").hide();\n\t\t\t\t$(".video_box").show();\n\t\t\t\t$(".fix_box").hide();\n\t\t\t})\t\n\t\t\tthis.closeVideo.click(function(){\n\t\t\t\tthis_.pageMask.hide();\n\t\t\t\t// this_.alertBox.show();\n\t\t\t\t$(".video_box").hide();\n\t\t\t\tvar newSrc = $(".video_cont iframe").attr("src");\n\t\t\t\t$(".video_cont iframe").attr("src",newSrc);\n\t\t\t\t$(".fix_box").show();\n\t\t\t});\n\t\t\t\n\t\t}\n\t\t\t\n\t});\n\n\tvar page = new Page();\n\tpage.init();\n})\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvaW5kZXgvaW5kZXguanM/M2JmMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBLFc7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0EsMkM7QUFDQTtBQUNBO0FBQ0EsU0FBUyxPO0FBQ1Q7QUFDQSxTO0FBQ0EsUTtBQUNBLE9BQU8sRTtBQUNQLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsOEJBQThCLGFBQWE7QUFDM0MsSUFBSTtBQUNKLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJO0FBQ0osR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUEsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBLDZGOztBQUVBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixvQ0FBb0M7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQSw4QkFBOEIsc0NBQXNDO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsNkI7QUFDQSxJQUFJO0FBQ0osR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJOztBQUVKLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUMsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQyxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCLGtDQUFrQztBQUNsQztBQUNBLGtCQUFrQixLQUFLO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QixtQ0FBbUM7QUFDbkM7QUFDQSxJQUFJO0FBQ0osR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7QUFDSixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsOEJBQThCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKOztBQUVBLEVBQUU7O0FBRUY7QUFDQTtBQUNBLENBQUMiLCJmaWxlIjoiMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKiogSU1QT1JUUyBGUk9NIGltcG9ydHMtbG9hZGVyICoqKi9cbnZhciBkZWZpbmUgPSBmYWxzZTtcblxuJCh3aW5kb3cpLmxvYWQoZnVuY3Rpb24oKXtcblx0ZnVuY3Rpb24gUGFnZSgpIHtcblx0XHR0aGlzXyA9IHRoaXM7XG5cdFx0dGhpcy5sYW5nTGlzdCA9ICQoXCIubGFuZ19saXN0XCIpO1xuXHRcdHRoaXMubGFuZyA9ICQoXCIubGFuZ19saXN0IGxpXCIpO1xuXHRcdHRoaXMubGFuZ1R4dCA9ICQoXCIubGFuZ190eHRcIik7XG5cdFx0dGhpcy5zZWxlY3RMYW5nID0gJChcIi5zZWxlY3RfbGFuZ1wiKTtcblx0XHR0aGlzLnNtYWxsUm9sZSA9ICQoJy5zbWFsbF9yb2xlJyk7XG4gICAgICAgIHRoaXMuYmlnUm9sZSA9ICQoXCIuYmlnX3JvbGVfcGljXCIpO1xuICAgICAgICB0aGlzLmJpZ1JvbGVWb2ljZSA9ICQoXCIuYmlnX3JvbGVfdm9pY2VcIik7XG4gICAgICAgIHRoaXMucm9sZUJvdHRvbSA9ICQoXCIucm9sZV9ib3R0b21cIik7XG4gICAgICAgIHRoaXMuc21hbGxJbnRybyA9ICQoXCIuc21hbGxfaW50cm9cIik7XG4gICAgICAgIHRoaXMuYmlnSW50cm8gPSAkKFwiLmJpZ19pbnRyb1wiKTtcbiAgICAgICAgdGhpcy5jbG9zZSA9ICQoXCIuY2xvc2VcIik7XG4gICAgICAgIHRoaXMuaXNjcm9sbEltZyA9ICQoXCIuaXNjcm9sbCBsaVwiKTtcbiAgICAgICAgdGhpcy5zY3JvbGxCdG4gPSAkKFwiLnNjcm9sbF9idG5cIik7XG4gICAgICAgIHRoaXMuYWxlcnRCb3ggPSAkKFwiLmFsZXJ0X2JveFwiKTtcbiAgICAgICAgdGhpcy5wYWdlTWFzayA9JChcIi5wYWdlX21hc2tcIik7XG4gICAgICAgIHRoaXMuYWxlcnRJbWdzID0gJChcIi5jb250ZW50IGxpXCIpO1xuICAgICAgICB0aGlzLmNvbnRlbnRCdG5SID0kKFwiLmNvbnRlbnRfYnRuX3JcIik7XG4gICAgICAgIHRoaXMuY29udGVudEJ0bkwgPSQoXCIuY29udGVudF9idG5fbFwiKTtcbiAgICAgICAgdGhpcy5jb2RlID0gJChcIi5jb2RlXCIpO1xuICAgICAgICB0aGlzLmJpZ0NvZGUgPSAkKFwiLmVyd2VpbWFcIik7XG4gICAgICAgIHRoaXMudmlkZW8gPSAkKFwiLnZpZGVvXCIpO1xuICAgICAgICB0aGlzLnNjcm9sbExlZnRCdG4gPSAkKFwiLnNjcm9sbF9idG5fbFwiKTtcbiAgICAgICAgdGhpcy5zY3JvbGxSaWdodEJ0biA9ICQoXCIuc2Nyb2xsX2J0bl9yXCIpO1xuICAgICAgICB0aGlzLnNtYWxsUm9sZU51bSA9IDA7XG4gICAgICAgIHRoaXMuY29udGVudEluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5pbml0aWFsU2Nyb2xsSW5kZXggPSAwO1xuICAgICAgICB0aGlzLnZpZXdEZXRhaWwgPSAkKFwiLnZpZXdfZGV0YWlsXCIpO1xuICAgICAgICB0aGlzLmNsb3NlRGV0YWlsID0gJChcIi5jbG9zZV9kZXRhaWxfYnRuXCIpO1xuICAgICAgICB0aGlzLmNsb3NlVmlkZW8gPSAkKFwiLmNsb3NlX3ZpZGVvXCIpO1xuICAgICAgICB0aGlzLnRvVG9wQnRuID0gJChcIi50b190b3BcIik7XG4gICAgICAgIHRoaXMuc2VsZWN0TGFuZyA9ICQoXCIuc2VsZWN0X2xhbmdcIik7XG4gICAgICAgIHRoaXMubGFuZyA9ICQoXCIubGFuZ1wiKTtcblx0fTtcblx0JC5leHRlbmQoUGFnZS5wcm90b3R5cGUsIHtcblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XHRcdC8vYWxlcnQoXCJoYWhhLOivt+aMh+ato+aIkeeahGJ1Z1wiKVxuXHRcdFx0dGhpcy5hamF4KCk7XG5cdFx0XHQvL3RoaXMuaGFuZGxlQ2xpY2tUcmlhbmdsZSgpO1xuXHRcdFx0Ly90aGlzLmhhbmRsZUNob29zZUxhbmcoKTtcblx0XHRcdC8vIHRoaXMuaW5pdElzY3JvbGwoKTtcblx0XHRcdHRoaXMuY2xpY2tTbWFsbFJvbGUoKTsgXG5cdFx0XHQvL3RoaXMuaG92ZXJTbWFsbFJvbGUoKTtcblx0XHRcdHRoaXMuY2xpY2tJbnRybygpO1xuXHRcdFx0dGhpcy5jbGlja1ZpZXdEZXRhaWwoKTtcblx0XHRcdHRoaXMuY2xpY2tDbG9zZSgpO1xuXHRcdFx0dGhpcy5jbGlja0RldGFpbENsb3NlKCk7XG5cdFx0XHQvL3RoaXMuY2xpY2tTY3JvbGxCdG4oKTtcblx0XHRcdHRoaXMuY2xpY2tJc2Nyb2xsSW1nKCk7XG5cdFx0XHR0aGlzLmNsaWNrQXVkaW9CdG4oKTtcblx0XHRcdHRoaXMuY2xpY2tDb250ZW50QnRuTCgpO1xuXHRcdFx0dGhpcy5jbGlja0NvbnRlbnRCdG5SKCk7XG5cdFx0XHR0aGlzLmNsaWNrRGV0YWlsUHJlQnRuKCk7XG5cdFx0XHR0aGlzLmNsaWNrRGV0YWlsTmV4dEJ0bigpO1xuXHRcdFx0Ly90aGlzLmhhbmRsZUhvdmVyQ29kZSgpO1xuXHRcdFx0dGhpcy5jbGlja1ZpZGVvQnRuKCk7XG5cdFx0XHR0aGlzLnRvVG9wKCk7XG5cdFx0XHR0aGlzLmNsaWNrU2VsZWN0TGFuZygpO1xuXHRcdFx0dGhpcy5jbGlja0xhbmcoKTtcblxuXHRcdH0sXG5cdFx0YWpheDogZnVuY3Rpb24oKSB7XG5cdFx0XHQkLmFqYXgoeyBcblx0XHRcdCAgICB0eXBlIDogXCJHRVRcIiwgLy/mj5DkuqTmlrnlvI8gXG5cdFx0XHQgICAgdXJsIDogXCIvbW9jay9pbmRleC5qc29uXCIsLy/ot6/lvoQgXG5cdFx0XHQgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKHJlc3VsdCkgey8v6L+U5Zue5pWw5o2u5qC55o2u57uT5p6c6L+b6KGM55u45bqU55qE5aSE55CGIFxuXHRcdFx0ICAgIFx0Y29uc29sZS5sb2cocmVzdWx0KVxuXHRcdFx0XHQgICAgaWYoIHJlc3VsdC5zdGF0dXMgPT09IFwic3VjY2Vzc1wiICkgeyBcblx0XHRcdFx0ICAgICAgIGNvbnNvbGUubG9nKFwi5oiQ5YqfXCIpO1xuXHRcdFx0XHQgICAgICAgdGhpc18uaGFuZGxlRGF0YShyZXN1bHQuZGF0YSk7XG5cdFx0XHRcdCAgICB9IGVsc2UgeyBcblx0XHRcdFx0ICAgICAgIGNvbnNvbGUubG9nKFwi5aSx6LSlXCIpXG5cdFx0XHRcdCAgICB9IFxuXHRcdFx0ICAgIH0gXG5cdFx0ICAgIH0pOyBcblx0XHR9LFxuXHRcdGhhbmRsZURhdGE6ZnVuY3Rpb24oZGF0YSkge1xuXHRcdFx0dGhpc18uaW9zX3VybCA9IGRhdGEuaW9zX3VybDtcblx0XHRcdHRoaXNfLmFuZHJvaWRfdXJsID0gZGF0YS5hbmRyb2lkX3VybDtcblx0XHRcdHRoaXNfLmN1c3RvbWVyX3VybCA9IGRhdGEuY3VzdG9tZXJfdXJsO1xuXHRcdFx0dGhpc18uZmFjZWJvb2tfdXJsID0gZGF0YS5mYWNlYm9va191cmw7XG5cdFx0XHR0aGlzXy5nYW1lX2NvZGUgPSBkYXRhLmdhbWVfY29kZTtcblx0XHRcdHRoaXNfLnBheV91cmwgPSBkYXRhLnBheV91cmw7XG5cdFx0XHR0aGlzXy5sYW5nX2NvZGUgPSBkYXRhLmxhbmdfY29kZTtcblx0XHRcdGNvbnNvbGUubG9nKHRoaXNfLmZhY2Vib29rX3VybCk7XG5cblx0XHRcdCQoXCIudG9wX2ljb24xXCIpLmF0dHIoXCJocmVmXCIsdGhpc18uZmFjZWJvb2tfdXJsKTtcblx0XHRcdCQoXCIudG9wX2ljb24yXCIpLmF0dHIoXCJocmVmXCIsdGhpc18uaW9zX3VybCk7XG5cdFx0fSxcdFxuXHRcdHRvVG9wOiBmdW5jdGlvbigpe1xuXHRcdFx0dGhpc18udG9Ub3BCdG4uY2xpY2soZnVuY3Rpb24oKXtcblx0XHRcdFx0JCgnaHRtbCAsIGJvZHknKS5hbmltYXRlKHtzY3JvbGxUb3A6IDB9LCdzbG93Jyk7XG5cdFx0XHR9KVxuXHRcdH0sXHRcblx0XHRjbGlja1NlbGVjdExhbmc6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpc18uc2VsZWN0TGFuZy5jbGljayhmdW5jdGlvbigpe1xuXHRcdFx0XHQkKFwiLmZpeF9ib3hfY2xsb2Fwc2VcIikuaGlkZSgpO1xuXHRcdFx0XHQkKFwiLmZpeF9ib3hfZXhwYW5kXCIpLnNob3coKTtcblx0XHRcdH0pXG5cdFx0fSxcblx0XHRjbGlja0xhbmc6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpc18ubGFuZy5jbGljayhmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIHR4dDtcblx0XHRcdFx0aWYoJCh0aGlzKS50ZXh0KCkgPT0gXCJDSElORVNFXCIpe1xuXHRcdFx0XHRcdHR4dCA9IFwiQ0hcIlxuXHRcdFx0XHR9XG5cdFx0XHRcdGlmKCQodGhpcykudGV4dCgpID09IFwiRU5HTElTSFwiKXtcblx0XHRcdFx0XHR0eHQgPSBcIkVOXCJcblx0XHRcdFx0fVxuXHRcdFx0XHQkKFwiLmNoX2xhbmdcIikudGV4dCh0eHQpXG5cdFx0XHRcdCQoXCIuZml4X2JveF9jbGxvYXBzZVwiKS5zaG93KCk7XG5cdFx0XHRcdCQoXCIuZml4X2JveF9leHBhbmRcIikuaGlkZSgpO1xuXHRcdFx0fSlcblx0XHR9LFxuXHRcdGhhbmRsZUNsaWNrVHJpYW5nbGU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpc18udHJpYW5nbGUuY2xpY2soZnVuY3Rpb24oKXtcblx0XHRcdFx0Y29uc29sZS5sb2codGhpc18uc2VsZWN0TGFuZy5hdHRyKFwiY2xhc3NcIikpXG5cdFx0XHRcdGlmKHRoaXNfLnNlbGVjdExhbmcuYXR0cihcImNsYXNzXCIpPT09XCJzZWxlY3RfbGFuZyBsYW5nX3poYW5rYWlcIil7XG5cdFx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xuXHRcdFx0XHRcdCBcdHRoaXNfLnNlbGVjdExhbmcudG9nZ2xlQ2xhc3MoJ2xhbmdfemhhbmthaScpO1xuXHRcdFx0XHRcdCAgICB0aGlzXy5zZWxlY3RMYW5nLnRvZ2dsZUNsYXNzKCdsYW5nX3Nob3UnKTtcblx0XHRcdFx0XHR9LDIwMClcblx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdCBcdHRoaXNfLnNlbGVjdExhbmcudG9nZ2xlQ2xhc3MoJ2xhbmdfemhhbmthaScpO1xuXHRcdFx0XHQgICAgdGhpc18uc2VsZWN0TGFuZy50b2dnbGVDbGFzcygnbGFuZ19zaG91Jyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpc18ubGFuZ0xpc3Quc2xpZGVUb2dnbGUoXCJmYXN0XCIpO1xuXHRcdFx0ICAgICQodGhpcykudG9nZ2xlQ2xhc3MoXCJ0cmlhbmdsZV91cFwiKTtcblxuXHRcdFx0fSlcblx0XHR9LFxuXG5cdFx0aGFuZGxlQ2hvb3NlTGFuZzogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzXy5sYW5nLmNsaWNrKGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGlzXy5sYW5nVHh0LnRleHQoJCh0aGlzKS50ZXh0KCkpXG5cdFx0XHRcdHRoaXNfLnRyaWFuZ2xlLnRyaWdnZXIoXCJjbGlja1wiKTtcblx0XHRcdH0pXG5cdFx0fSxcblx0XHRpU2Nyb2xsQ2xpY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKC9pUGhvbmV8aVBhZHxpUG9kfE1hY2ludG9zaC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHJldHVybiBmYWxzZTtcblx0XHRcdGlmICgvQ2hyb21lL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkgcmV0dXJuICgvQW5kcm9pZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpO1xuXHRcdFx0aWYgKC9TaWxrL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0aWYgKC9BbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xuXHRcdFx0ICAgdmFyIHM9bmF2aWdhdG9yLnVzZXJBZ2VudC5zdWJzdHIobmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdBbmRyb2lkJykrOCwzKTtcblx0XHRcdCAgIHJldHVybiBwYXJzZUZsb2F0KHNbMF0rc1szXSkgPCA0NCA/IGZhbHNlIDogdHJ1ZVxuXHRcdCAgICB9XG5cdFx0fSxcblx0XHRpbml0SXNjcm9sbDogZnVuY3Rpb24oKSB7XG5cdFx0XHQvL2FsZXJ0KHRoaXNfLmlTY3JvbGxDbGljaygpKVxuXHRcdFx0dmFyIGVsZSA9ICQoXCIuaXNjcm9sbFwiKTtcblx0XHQgICAgZWxlLndpZHRoKChlbGUuZmluZChcImxpXCIpLmxlbmd0aC0xKSAqIChlbGUuZmluZChcImxpXCIpLndpZHRoKCkpKTtcblx0XHQgICAgdmFyIG15U2Nyb2xsID0gbmV3IElTY3JvbGwoJyN3cmFwcGVyJywge1xuXHRcdCAgICBcdHNjcm9sbFg6IHRydWUsIFxuXHRcdCAgICBcdHNjcm9sbFk6IGZhbHNlLCBcblx0XHQgICAgXHRjbGljazogdGhpc18uaVNjcm9sbENsaWNrKCksXG5cdFx0ICAgIFx0ZmFkZVNjcm9sbGJhcnM6IHRydWVcblx0XHQgICAgfSk7XG5cdFx0ICAgIG15U2Nyb2xsLnNjcm9sbFRvRWxlbWVudCgnLmlzY3JvbGxfYWN0aXZlJyx0cnVlLHRydWUpO1xuXG5cdFx0fSxcblx0XHRjbGlja1NtYWxsUm9sZTogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzXy5zbWFsbFJvbGUuY2xpY2soZnVuY3Rpb24oKXtcblx0XHRcdFx0dGhpc18uc21hbGxSb2xlTnVtID0gJCh0aGlzKS5pbmRleCgpO1xuXHRcdFx0ICAgICQoXCIucm9sZV90aXRsZVwiKS5yZW1vdmVDbGFzcyhcInJvbGVfdGl0bGVfYWN0aXZlXCIpLmVxKHRoaXNfLnNtYWxsUm9sZU51bSkuYWRkQ2xhc3MoXCJyb2xlX3RpdGxlX2FjdGl2ZVwiKTtcblx0XHRcdFx0dGhpc18uc21hbGxSb2xlLnJlbW92ZUNsYXNzKCdjdXInKS5lcSh0aGlzXy5zbWFsbFJvbGVOdW0pLmFkZENsYXNzKCdjdXInKTtcblxuXHRcdFx0XHR0aGlzXy5iaWdSb2xlLnJlbW92ZUNsYXNzKCdiaWdfcm9sZV9waWNfYWN0aXZlIGFuaW1hdGVkIGJvdW5jZUluTGVmdCcpLmVxKHRoaXNfLnNtYWxsUm9sZU51bSkuYWRkQ2xhc3MoJ2JpZ19yb2xlX3BpY19hY3RpdmUgYW5pbWF0ZWQgYm91bmNlSW5MZWZ0Jyk7XG5cdFx0XHRcdHRoaXNfLmJpZ1JvbGVWb2ljZS5yZW1vdmVDbGFzcygnYmlnX3JvbGVfdm9pY2VfYWN0aXZlIGFuaW1hdGVkIGJvdW5jZUluUmlnaHQnKTtcblx0XHRcdCAgICBcblx0XHRcdCAgICBcdHRoaXNfLmJpZ1JvbGVWb2ljZS5lcSh0aGlzXy5zbWFsbFJvbGVOdW0pLmFkZENsYXNzKCdiaWdfcm9sZV92b2ljZV9hY3RpdmUgYW5pbWF0ZWQgYm91bmNlSW5SaWdodCcpO1xuXHRcdFx0ICBcbiAgICAgICAgICAgICAgICAvLyB0aGlzXy5zbWFsbFJvbGVOdW0gPSAkKHRoaXMpLmluZGV4KCk7XG4gICAgICAgICAgICAgICAgLy8gJChcIi5yb2xlX3RpdGxlXCIpLnJlbW92ZUNsYXNzKFwicm9sZV90aXRsZV9hY3RpdmVcIikuZXEodGhpc18uc21hbGxSb2xlTnVtKS5hZGRDbGFzcyhcInJvbGVfdGl0bGVfYWN0aXZlXCIpO1xuXG4gICAgICAgICAgICAgICAgLy8gdGhpc18uc21hbGxSb2xlLnJlbW92ZUNsYXNzKCdjdXInKS5lcSh0aGlzXy5zbWFsbFJvbGVOdW0pLmFkZENsYXNzKCdjdXInKTsgICAgICBcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyB0aGlzXy5iaWdSb2xlLmFkZENsYXNzKCdhbmltYXRlZCBmYWRlT3V0JykucmVtb3ZlQ2xhc3MoJ2JpZ19yb2xlX3BpY19hY3RpdmUgYW5pbWF0ZWQgYm91bmNlSW5MZWZ0JykuZXEodGhpc18uc21hbGxSb2xlTnVtKS5yZW1vdmVDbGFzcygnYW5pbWF0ZWQgZmFkZU91dCcpLmFkZENsYXNzKCdiaWdfcm9sZV9waWNfYWN0aXZlIGFuaW1hdGVkIGJvdW5jZUluTGVmdCcpO1xuICAgIFxuXG4gICAgICAgICAgIFxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIC8vdGhpc18uYmlnUm9sZVZvaWNlLm5vdCh0aGlzXy5iaWdSb2xlVm9pY2UuZXEodGhpc18uc21hbGxSb2xlTnVtKSkucmVtb3ZlQ2xhc3MoXCJiaWdfcm9sZV9waWNfYWN0aXZlIGFuaW1hdGVkIGJvdW5jZUluUmlnaHRcIik7XG4gICAgICAgICAgICAgICAgLy8gdGhpc18uYmlnUm9sZVZvaWNlLnJlbW92ZUNsYXNzKCdiaWdfcm9sZV92b2ljZV9hY3RpdmUgYW5pbWF0ZWQgYm91bmNlSW5SaWdodCcpO1xuICAgICAgICAgICAgICAgIC8vIHRoaXNfLmJpZ1JvbGVWb2ljZS5lcSh0aGlzXy5zbWFsbFJvbGVOdW0pLmFkZENsYXNzKCdiaWdfcm9sZV9waWNfYWN0aXZlIGFuaW1hdGVkIGJvdW5jZUluUmlnaHQnKTtcblx0XHRcdH0pXG5cdFx0fSxcblx0XHRcblx0XHRob3ZlclNtYWxsUm9sZTogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzXy5zbWFsbFJvbGUubW91c2VlbnRlcihmdW5jdGlvbigpIHtcblx0XHRcdFx0JCh0aGlzKS5hZGRDbGFzcygnb24nKTtcblx0XHRcdH0pXG5cdFx0XHR0aGlzXy5zbWFsbFJvbGUubW91c2VsZWF2ZShmdW5jdGlvbigpIHtcblx0XHRcdFx0JCh0aGlzKS5yZW1vdmVDbGFzcygnb24nKTtcblx0XHRcdH0pXG5cdFx0fSxcblx0XHRjbGlja1ZpZXdEZXRhaWw6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpc18udmlld0RldGFpbC5jbGljayhmdW5jdGlvbigpe1xuXHRcdFx0XHRjb25zb2xlLmxvZyh0aGlzXy5zbWFsbFJvbGVOdW0pXG5cdFx0XHRcdCQoXCIuZGV0YWlsXCIpLnJlbW92ZUNsYXNzKCdkZXRhaWxfYWN0aXZlJykuZXEodGhpc18uc21hbGxSb2xlTnVtKS5hZGRDbGFzcygnZGV0YWlsX2FjdGl2ZScpO1xuXHRcdFx0ICAgIC8vICQoXCJodG1sLGJvZHlcIikuY3NzKHsnaGVpZ2h0JzpcIjEwMCVcIixcIm92ZXJmbG93XCI6XCJoaWRkZW5cIn0pO1xuXHRcdFx0XHR0aGlzXy5wYWdlTWFzay5zaG93KCk7XG5cdFx0XHRcdCQoXCIuZGV0YWlsX2xpc3RcIikuc2hvdygpO1xuXHRcdFx0XHQkKFwiLmNvbnRlbnRfYm94XCIpLmhpZGUoKTtcblx0XHRcdFx0JChcIi5maXhfYm94XCIpLmhpZGUoKTtcblx0XHRcdH0pXG5cdFx0fSxcblx0XHRjbGlja0RldGFpbFByZUJ0bjogZnVuY3Rpb24oKSB7XG5cdFx0XHQkKFwiLnByZV9idG5cIikuY2xpY2soZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmKHRoaXNfLnNtYWxsUm9sZU51bSA+IDApe1xuXHRcdFx0XHRcdHRoaXNfLnNtYWxsUm9sZU51bSAtLTtcblx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0dGhpc18uc21hbGxSb2xlTnVtID0gJChcIi5kZXRhaWxcIikuc2l6ZSgpLTE7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdCQoXCIuZGV0YWlsXCIpLnJlbW92ZUNsYXNzKCdkZXRhaWxfYWN0aXZlJykuZXEodGhpc18uc21hbGxSb2xlTnVtKS5hZGRDbGFzcygnZGV0YWlsX2FjdGl2ZScpO1xuXHRcdFx0XHR0aGlzXy5wYWdlTWFzay5zaG93KCk7XG5cdFx0XHR9KVxuXHRcdH0sXG5cdFx0Y2xpY2tEZXRhaWxOZXh0QnRuOiBmdW5jdGlvbigpe1xuXHRcdFx0JChcIi5uZXh0X2J0blwiKS5jbGljayhmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYodGhpc18uc21hbGxSb2xlTnVtIDwgJChcIi5kZXRhaWxcIikuc2l6ZSgpLTEpe1xuXHRcdFx0XHRcdHRoaXNfLnNtYWxsUm9sZU51bSArKztcblx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0dGhpc18uc21hbGxSb2xlTnVtID0gMDtcblx0XHRcdFx0fVxuXHRcdFx0XHQkKFwiLmRldGFpbFwiKS5yZW1vdmVDbGFzcygnZGV0YWlsX2FjdGl2ZScpLmVxKHRoaXNfLnNtYWxsUm9sZU51bSkuYWRkQ2xhc3MoJ2RldGFpbF9hY3RpdmUnKTtcblx0XHRcdFx0dGhpc18ucGFnZU1hc2suc2hvdygpO1xuXHRcdFx0fSlcblx0XHR9LFxuXHRcdGNsaWNrRGV0YWlsQ2xvc2U6IGZ1bmN0aW9uKCl7XG5cdFx0XHR0aGlzLmNsb3NlRGV0YWlsLmNsaWNrKGZ1bmN0aW9uKCl7XG5cdFx0XHQgICAgLy8gJChcImh0bWwsYm9keVwiKS5jc3MoeydoZWlnaHQnOlwiMTYuNjRyZW1cIixcIm92ZXJmbG93XCI6XCJhdXRvXCJ9KTtcblx0XHRcdFx0dGhpc18ucGFnZU1hc2suaGlkZSgpO1xuXHRcdFx0XHQkKFwiLnZpZGVvX2JveFwiKS5oaWRlKCk7XG5cdFx0XHRcdCQoXCIuZGV0YWlsX2xpc3RcIikuaGlkZSgpO1xuXHRcdFx0XHQkKFwiLmNvbnRlbnRfYm94XCIpLmhpZGUoKTtcblx0XHRcdFx0JChcIi5maXhfYm94XCIpLnNob3coKTtcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLmNsb3NlRGV0YWlsLm9uKFwidG91Y2hzdGFydFwiLGZ1bmN0aW9uKCl7XG5cdFx0XHRcdCQodGhpcykuYWRkQ2xhc3MoXCJjbG9zZV9kZXRhaWxfYnRuX2hvdmVyXCIpO1xuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLmNsb3NlRGV0YWlsLm9uKFwidG91Y2hlbmRcIixmdW5jdGlvbigpe1xuXHRcdFx0XHQkKHRoaXMpLnJlbW92ZUNsYXNzKFwiY2xvc2VfZGV0YWlsX2J0bl9ob3ZlclwiKTtcblx0XHRcdH0pXG5cdFx0fSxcblx0XHRjbGlja0ludHJvOmZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpc18uc21hbGxJbnRyby5jbGljayhmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIHNtYWxsSW50cm9OdW0gPSAkKHRoaXMpLmluZGV4KCk7XG5cdFx0XHQgICAgdGhpc18uYmlnSW50cm8ubm90KHNtYWxsSW50cm9OdW0pLnJlbW92ZUNsYXNzKCdpbnRyb19hY3RpdmUgYW5pbWF0ZWQgZmFkZUluJyk7XG5cdFx0XHQgICAgdGhpc18uYmlnSW50cm8uZXEoc21hbGxJbnRyb051bSkuYWRkQ2xhc3MoJ2ludHJvX2FjdGl2ZSBhbmltYXRlZCBmYWRlSW4nKTtcblx0XHRcdFx0dGhpc18uc21hbGxJbnRyby5yZW1vdmVDbGFzcyhcInNtYWxsX2ludHJvX2hvdmVyXCIpLmZpbmQoc21hbGxJbnRyb051bSkuYWRkQ2xhc3MoJ3NtYWxsX2ludHJvX2hvdmVyJyk7XG5cdFx0XHRcdCQodGhpcykuYWRkQ2xhc3MoJ3NtYWxsX2ludHJvX2hvdmVyJyk7XG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0Ly8gdGhpc18uc21hbGxJbnRyby5vbigndG91Y2hzdGFydCcsZnVuY3Rpb24oZSkge1xuXHRcdCAvLyAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdzbWFsbF9pbnRyb19ob3ZlcicpO1xuXHRcdFx0Ly8gfSk7XG5cdFx0XHQvLyB0aGlzXy5zbWFsbEludHJvLm9uKCd0b3VjaGVuZCcsZnVuY3Rpb24oZSkge1xuXHRcdCAvLyAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwic21hbGxfaW50cm9faG92ZXJcIik7XG5cdFx0XHQvLyB9KTtcblx0XHR9LFxuXHRcdGNsaWNrSXNjcm9sbEltZzpmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuaXNjcm9sbEltZy5jbGljayhmdW5jdGlvbigpe1xuXHRcdFx0XHR0aGlzXy5jb250ZW50SW5kZXggPSAkKHRoaXMpLmF0dHIoXCJpZFwiKS0xO1xuXHRcdFx0XHR0aGlzXy5zaG93QmlnU2Nyb2xsSW1nKCk7XG5cdFx0XHRcdC8vYWxlcnQodGhpc18uY29udGVudEluZGV4KVxuXG5cdFx0XHR9KVxuXHRcdH0sXG5cdFx0c2hvd0JpZ1Njcm9sbEltZzogZnVuY3Rpb24oKXtcblx0XHRcdHRoaXNfLnBhZ2VNYXNrLnNob3coKTtcblx0XHRcdCQoXCIudmlkZW9fYm94XCIpLmhpZGUoKTtcblx0XHRcdCQoXCIuZGV0YWlsX2xpc3RcIikuaGlkZSgpO1xuXHRcdFx0JChcIi5jb250ZW50X2JveFwiKS5zaG93KCk7XG5cdFx0XHR0aGlzXy5hbGVydEltZ3MucmVtb3ZlQ2xhc3MoJ2FjdGl2ZV9jb250ZW50JykuZXEodGhpc18uY29udGVudEluZGV4KS5hZGRDbGFzcygnYWN0aXZlX2NvbnRlbnQnKTtcblx0XHRcdCQoXCIuZml4X2JveFwiKS5oaWRlKCk7XG5cdFx0fSxcblx0XHRjbGlja0NvbnRlbnRCdG5MOmZ1bmN0aW9uKCl7XG5cblx0XHRcdCQoXCIuY29udGVudF9idG5fbFwiKS5jbGljayhmdW5jdGlvbigpe1xuXHRcdFx0XHR0aGlzXy5jb250SW1nTGVuID0gJChcIi5jb250ZW50IGxpXCIpLnNpemUoKS0xO1xuXHRcdFx0XHRpZih0aGlzXy5jb250ZW50SW5kZXggPCAwKXtcblx0XHRcdFx0XHR0aGlzXy5jb250ZW50SW5kZXggPSB0aGlzXy5jb250SW1nTGVuO1xuXHRcdFx0XHR9ZWxzZXtcblx0XHRcdFx0XHR0aGlzXy5jb250ZW50SW5kZXgtLTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzXy5zaG93QmlnU2Nyb2xsSW1nKCk7XG5cdFx0XHR9KVxuXHRcdH0sXG5cdFx0Y2xpY2tDb250ZW50QnRuUjpmdW5jdGlvbigpe1xuXHRcdFx0dGhpcy5jb250ZW50QnRuUi5jbGljayhmdW5jdGlvbigpe1xuXHRcdFx0XHR0aGlzXy5jb250SW1nTGVuID0gJChcIi5jb250ZW50IGxpXCIpLnNpemUoKTtcblx0XHRcdFx0aWYodGhpc18uY29udGVudEluZGV4ID49IHRoaXNfLmNvbnRJbWdMZW4tMSl7XG5cdFx0XHRcdFx0dGhpc18uY29udGVudEluZGV4ID0gMDtcblx0XHRcdFx0fWVsc2V7XG5cdFx0XHRcdFx0dGhpc18uY29udGVudEluZGV4Kys7XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpc18uc2hvd0JpZ1Njcm9sbEltZygpO1x0XG5cdFx0XHR9KVxuXHRcdH0sXG5cdFx0Y2xpY2tDbG9zZTpmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuY2xvc2UuY2xpY2soZnVuY3Rpb24oKXtcbiBcdFx0XHRcdHRoaXNfLnBhZ2VNYXNrLmhpZGUoKTtcbiBcdFx0XHRcdCQoXCIuZml4X2JveFwiKS5zaG93KCk7XG5cdFx0XHRcdC8vIHRoaXNfLmFsZXJ0Qm94LmhpZGUoKTtcblx0XHRcdFx0Ly90aGlzXy5zY3JvbGxCdG4uc2hvdygpOyBcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5jbG9zZS5vbihcInRvdWNoc3RhcnRcIixmdW5jdGlvbigpe1xuXHRcdFx0XHQkKHRoaXMpLmFkZENsYXNzKFwiY2xvc2VfaG92ZXJcIik7XG5cdFx0XHR9KTtcblx0XHRcdHRoaXMuY2xvc2Uub24oXCJ0b3VjaGVuZFwiLGZ1bmN0aW9uKCl7XG5cdFx0XHRcdCQodGhpcykucmVtb3ZlQ2xhc3MoXCJjbG9zZV9ob3ZlclwiKTtcblx0XHRcdH0pXG5cdFx0XHRcblx0XHR9LFxuXG5cdFx0Y2xpY2tBdWRpb0J0bjpmdW5jdGlvbigpe1xuXHRcdFx0JCgnLmJ0bi1hdWRpbycpLmNsaWNrKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdHZhciBub3dJZCA9IFwibXAzQnRuXCIgKyAodGhpc18uc21hbGxSb2xlTnVtICsxKTtcblx0XHRcdFx0dmFyIHVybCA9IFwiLi4vaW1hZ2VzL2N2XzBcIiArIG5vd0lkICsgXCIucG5nXCI7XG5cdFx0XHQgICAgY29uc29sZS5sb2cobm93SWQpXG5cdFx0XHQgICAgLy/mkq3mlL7lrozmr5Vcblx0ICAgICAgICAgICAgJChcIiNcIisgbm93SWQpLm9uKCdlbmRlZCcsIGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLpn7PpopHlt7Lmkq3mlL7lrozmiJBcIik7XG5cdCAgICAgICAgICAgICAgICAkKCcuYnRuLWF1ZGlvJykuY3NzKHtcblx0ICAgICAgICAgICAgICAgIFx0J2JhY2tncm91bmQnOnVybCxcblx0ICAgICAgICAgICAgICAgIFx0J2JhY2tncm91bmQtc2l6ZSc6J2NvbnRhaW4nfSk7XG5cdCAgICAgICAgICAgIH0pXG5cdCAgICAgICAgICAgIC8v5pKt5pS+5Zmo5o6n5Yi2XG5cdCAgICAgICAgICAgIHZhciBhdWRpbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG5vd0lkKTtcblx0ICAgICAgICAgICAgYXVkaW8udm9sdW1lID0gLjM7XG5cdCAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOy8v6Ziy5q2i5YaS5rOhXG5cdCAgICAgICAgICAgICAgICBpZihhdWRpby5wYXVzZWQpeyAvL+WmguaenOW9k+WJjeaYr+aaguWBnOeKtuaAgVxuXHQgICAgICAgICAgICAgICAgICAgICQoJy5idG4tYXVkaW8nKS5jc3Moe1xuXHQgICAgICAgICAgICAgICAgICAgIFx0J2JhY2tncm91bmQnOnVybCxcblx0ICAgICAgICAgICAgICAgICAgICBcdCdiYWNrZ3JvdW5kLXNpemUnOidjb250YWluJ1xuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgICAgIGF1ZGlvLnBsYXkoKTsgLy/mkq3mlL5cblx0ICAgICAgICAgICAgICAgICAgICByZXR1cm47XG5cdCAgICAgICAgICAgICAgICB9ZWxzZXsvL+W9k+WJjeaYr+aSreaUvueKtuaAgVxuXHQgICAgICAgICAgICAgICAgICAgICQoJy5idG4tYXVkaW8nKS5jc3Moe1xuXHQgICAgICAgICAgICAgICAgICAgIFx0J2JhY2tncm91bmQnOnVybCxcblx0ICAgICAgICAgICAgICAgICAgICBcdCdiYWNrZ3JvdW5kLXNpemUnOidjb250YWluJ1xuXHQgICAgICAgICAgICAgICAgICAgIH0pO1xuXHQgICAgICAgICAgICAgICAgICAgIGF1ZGlvLnBhdXNlKCk7IC8v5pqC5YGcXG5cdCAgICAgICAgICAgICAgICB9XG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcdFxuXHRcdGhhbmRsZUhvdmVyQ29kZTpmdW5jdGlvbigpe1xuXHRcdFx0dGhpcy5jb2RlLm1vdXNlZW50ZXIoZnVuY3Rpb24oKXtcblx0XHRcdFx0dGhpc18uYmlnQ29kZS5zaG93KCk7XG5cdFx0XHR9KTtcblx0XHRcdHRoaXMuY29kZS5tb3VzZWxlYXZlKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdHRoaXNfLmJpZ0NvZGUuaGlkZSgpO1xuXHRcdFx0fSk7XG5cdFx0fSxcblx0XHRjbGlja1ZpZGVvQnRuOmZ1bmN0aW9uKCl7XG5cdFx0XHR0aGlzLnZpZGVvLmNsaWNrKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdHZhciB3aWR0aCA9ICQoXCIudmlkZW9fY29udFwiKS53aWR0aCgpO1xuXHRcdFx0XHR2YXIgaGVpZ2h0ID0gJChcIi52aWRlb19jb250XCIpLmhlaWdodCgpO1xuXHRcdFx0XHQkKFwiaWZyYW1lXCIpLmNzcyh7XCJ3aWR0aFwiOndpZHRoLFwiaGVpZ2h0XCI6aGVpZ2h0fSk7XG5cdFx0XHRcdHRoaXNfLnBhZ2VNYXNrLnNob3coKTtcblx0XHRcdFx0JChcIi5kZXRhaWxfbGlzdFwiKS5oaWRlKCk7XG5cdFx0XHRcdCQoXCIuY29udGVudF9ib3hcIikuaGlkZSgpO1xuXHRcdFx0XHQkKFwiLnZpZGVvX2JveFwiKS5zaG93KCk7XG5cdFx0XHRcdCQoXCIuZml4X2JveFwiKS5oaWRlKCk7XG5cdFx0XHR9KVx0XG5cdFx0XHR0aGlzLmNsb3NlVmlkZW8uY2xpY2soZnVuY3Rpb24oKXtcblx0XHRcdFx0dGhpc18ucGFnZU1hc2suaGlkZSgpO1xuXHRcdFx0XHQvLyB0aGlzXy5hbGVydEJveC5zaG93KCk7XG5cdFx0XHRcdCQoXCIudmlkZW9fYm94XCIpLmhpZGUoKTtcblx0XHRcdFx0dmFyIG5ld1NyYyA9ICQoXCIudmlkZW9fY29udCBpZnJhbWVcIikuYXR0cihcInNyY1wiKTtcblx0XHRcdFx0JChcIi52aWRlb19jb250IGlmcmFtZVwiKS5hdHRyKFwic3JjXCIsbmV3U3JjKTtcblx0XHRcdFx0JChcIi5maXhfYm94XCIpLnNob3coKTtcblx0XHRcdH0pO1xuXHRcdFx0XG5cdFx0fVxuXHRcdFx0XG5cdH0pO1xuXG5cdHZhciBwYWdlID0gbmV3IFBhZ2UoKTtcblx0cGFnZS5pbml0KCk7XG59KVxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvanMvaW5kZXgvaW5kZXguanNcbi8vIG1vZHVsZSBpZCA9IDFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sInNvdXJjZVJvb3QiOiIifQ==')}]);